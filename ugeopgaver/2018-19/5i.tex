\documentclass[a4paper,12pt]{article}

\input{setup}

\title{Programmering og Problemløsning\\Datalogisk Institut,
  Københavns Universitet\\Arbejdsseddel 5 - individuel opgave}
\author{Jon Sporring}
\date{2.\ - 11.\ oktober.\\Afleveringsfrist: onsdag d.\ 11.\ oktober kl. 22:00}

\begin{document}
\maketitle

\noindent
I denne periode skal I arbejde individuelt. Regler for individuelle afleveringsopgaver er beskrevet i ``Noter, links, software m.m.''$\rightarrow$''Generel information om opgaver''. Formålet er at arbejde med:
\begin{itemize}
%\item strenge
\item lister
\item arrays
\end{itemize}

Opgaverne er delt i øve- og afleveringsopgaver. 

\section*{Øveopgaver}
\begin{enumerate}[label=5ø.\arabic*,start=0]
\item Skriv en funktion \lstinline{oneToN : n:int -> int list}, som returnerer listen af heltal \lstinline{[1; 2; ...; n]}.
\item Skriv en funktion \lstinline{multiplicity: x:int -> xs:int list -> int}, som tæller antallet af gange tallet \lstinline{x} optræder i listen \lstinline{xs}.
\item Skriv funktionen \lstinline{split: xs:int list -> (xs1: int list) * (xs2: int list)}, som deler listen \lstinline{xs} i 2 og returnerer resultatet som en tuple, hvor alle elementer med lige index er i første element og resten i andet element. F.eks.\ \mbox{\lstinline{split [x0; x1; x2; x3; x4]}} skal returnere \mbox{\lstinline{([x0; x2; x4], [x1; x3;])}}.
\item \label{item:reverseApply} Definer en funktion \lstinline{reverseApply : 'a -> ('a -> 'b) -> 'b}, sådan at kaldet \mbox{\lstinline{reverseApply x f}} returnerer resultatet af funktionsanvendelsen \lstinline{f x}.
\item Forklar forskellen mellem typerne \lstinline{int -> (int -> int)} og \lstinline{(int -> int) -> int}, og giv et eksempel på en funktion af hver type.
\item Brug \lstinline{List.filter} til at lave en funktion \lstinline{evens : int list -> int list}, der returnerer de lige heltal i en liste.
\item Brug \lstinline{List.map} og \lstinline{reverseApply} (fra Opgave~\ref{item:reverseApply}) til at lave en funktion \lstinline{applylist : ('a -> 'b) list -> 'a -> 'b list}, der anvender en liste af funktioner på samme element for at returnere en liste af resultater.
\item Opskriv funktionstyperne for \lstinline{List.filter} og \lstinline{List.foldBack}.
\item En snedig programmør definerer en sorteringsfunktion med definitionen \lstinline{ssort xs = Set.toList (Set.ofList xs)}. For eksempel giver \lstinline{ssort [4; 3; 7; 2]} resultatet \lstinline{[2; 3; 4; 7]}.  Diskut\'{e}r, om programmøren faktisk er så snedig, som han tror.
\item Brug \lstinline{Array.init} til at lave en funktion \lstinline{squares: int -> int []}, sådan at kaldet \lstinline{squares n} returnerer listen af de $n$ første kvadrattal.  For eksempel skal \lstinline{squares 5} returnere arrayet \lstinline{[|1; 4; 9; 16; 25|]}.
\item Skriv en funktion\mbox{\lstinline{reverseArray : 'a [] -> 'a []}} ved brug af \lstinline{Array.init} og \lstinline{Array.length}, og som returnerer arrayet med elementerne i omvendt rækkefølge.  For eksempel skal kaldet \lstinline{printfn "%A" (reverseArray [|1..5|])} %
    udskrive \mbox{\lstinline{[|5; 4; 3; 2; 1|]}}.
  \item Brug en while-løkke og overskrivning af array-elementer til at skrive en funktion \lstinline{reverseArrayD : 'a [] -> unit}, som destruktivt opdaterer et array, så elementerne kommer i omvendt rækkefølge.  Sekvensen
\begin{verbatim}
let aa = [|1..5|]
reverseArrayD aa
printfn "%A" aa
\end{verbatim}
skal altså udskrive \lstinline{[|5; 4; 3; 2; 1|]}.
\item Brug \lstinline{Array2D.init}, \lstinline{Array2D.length1} og \lstinline{Array2D.length2} til at lave en funktion \lstinline{transpose : 'a [,] -> 'a [,]} som returnerer det transponerede argument, dvs.\ spejler det over diagonalen.
\end{enumerate}

\section*{Afleveringsopgaver}
\begin{enumerate}[label=5i.\arabic*,start=0]
\item En tabel kan repræsenteres som en ikke tom liste af lister, hvor alle listerne er lige lange. Listen \lstinline{[[1; 2; 3]; [4; 5; 6]]} repræsenterer for eksempel tabellen
  \begin{quote}
\[\left [\begin{array}{rrr}
1 & 2 & 3 \\
4 & 5 & 6
\end{array}
\right ]\]
\end{quote}
\begin{enumerate}
\item Lav en funktion \lstinline{isTable : 'a list list -> bool}, der givet en liste af lister afgør, om det er en lovlig ikke-tom tabel, altså om alle listerne har ens længde, og at der er mindst en liste med mindst et element.
\item Lav en funktion \lstinline{firstColumn : 'a list list -> 'a list}, der tager en liste af lister og returnerer listen af førsteelementer i de indre lister.  F.eks.\ skal \lstinline{firstColumn [[1; 2; 3]; [4; 5; 6]]} returnere listen \lstinline{[1; 4]}.  Hvis en eller flere af listerne er tomme, er \lstinline{firstColumn} udefineret.
\item Lav en funktion \lstinline{dropFirstColumn : 'a list list -> 'a list list}, der tager en liste af lister og returnerer en liste af lister, hvor førsteelementerne i de indre lister er fjernet.  F.eks.\ skal \lstinline{dropFirstColumn [[1; 2; 3]; [4; 5; 6]]} returnere \lstinline{[[2; 3]; [5; 6]]}.
\item Lav en funktion \lstinline{transpose : 'a list list -> 'a list list}, der spejler tabellens ingange over diagonalen, så den transponerede tabel til den herover viste tabel er
  \begin{quote}
\[\left [\begin{array}{rr}
1 & 4 \\
2 & 5 \\
3 & 6
\end{array}
\right ]\]
\end{quote}
Kaldet \lstinline{transpose [[1; 2; 3]; [4; 5; 6]]} skal altså returnere \lstinline{[[1; 4]; [2; 5]; [3; 6]]}.  Det kan antages, at argumentet til \lstinline{transpose} er en lovlig tabel, så advarsler om ufuldstændige mønstre er acceptable -- hvis funktionen eller virker.  Bemærk, at \lstinline{transpose (transpose t) = t}, hvis \lstinline{t} er en tabel.  Vink: Brug funktionerne \lstinline{firstColumn} og \lstinline{dropFirstColumn}.
\end{enumerate}
\item Brug funktionerne opremset i [Kapitel 11, Sporring] til at definere en funktion \lstinline{concat : 'a list list -> 'a list}, der sammensætter en liste af lister til en enkelt liste.  F.eks.\ skal \lstinline{concat [[2]; [6; 4]; [1]]} give resultatet \lstinline{[2; 6; 4; 1]}.
\item Brug funktionerne fra [Kapitel 11, Sporring]  til at definere en funktion \lstinline{gennemsnit : float list -> float option}, der finder gennemsnittet af en liste af kommatal, såfremt dette er veldefineret, og \lstinline{None}, hvis ikke.
% \item Lav en funktion \lstinline{arraySort : ('a [] -> 'a []) when 'a : comparison}, som givet et array returnerer en sorteret udgave af samme array.  Lav din løsning uden brug af \lstinline{<-} operatoren (altså funktionelt).  For eksempel skal sekvensen
% \begin{verbatim}
% let aa = [|1;7;5;2;1|]
% let bb = arraySort aa
% printfn "%A %A" aa bb
% \end{verbatim}
% udskrive
% \begin{verbatim}
% [|1;7;5;2;1|] [|1;1;2;5;7|]
% \end{verbatim}
% \item Lav en funktion \lstinline{arraySortD : ('a [] -> unit) when 'a : comparison}, som sorterer et array, sådan at elementerne i det oprindelige array overskrives med nye, sorterede elementer, altså imperativt.  For eksempel skal sekvensen
% \begin{verbatim}
% let aa = [|1;7;5;2;1|]
% arraySortD aa
% printfn "%A" aa
% \end{verbatim}
% udskrive
% \begin{verbatim}
% [|1;1;2;5;7|]
% \end{verbatim}
\end{enumerate}

Afleveringsopgaven skal afleveres som et antal fsx tekstfiler navngivet efter opgaven, som f.eks. \lstinline!5i0.fsx!. Tekstfilerne skal kunne oversættes med fsharpc, og resultatet skal kunne køres med mono. Funktioner skal dokumenteres ifølge dokumentationsstandarden, og udover selve programteksten skal besvarelserne indtastes som kommentarer i de fsx-filer, de hører til. Det hele skal samles i en zip fil og uploades på Absalon.

Til øvelserne forventer vi at I arbejder efter følgende skema:
\begin{description}
\item[Mandag 2/10:] Afslut 4g og start på øvelsesopgaverne fra 5i
\item[Tirsdag 3/10:] Arbejd med øvelses- og afleveringsopgaverne
\item[Fredag 6/10]  Arbejd med afleveringsopgaverne
\end{description}

\end{document}

